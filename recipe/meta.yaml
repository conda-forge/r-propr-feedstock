{% set version = "5.1.5" %}
{% set posix = 'm2-' if win else '' %}
{% set github = "https://github.com/tpq/propr" %}

package:
  name: r-propr
  version: {{ version|replace("-", "_") }}

source:
  url: "{{ github }}/archive/refs/tags/{{ version }}.tar.gz"
  sha256: 5ef3dd62225a7d2243e828732bbc2c58f28f3d52169be552249121526e6a0008

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  missing_dso_whitelist:
    - '*/R.dll'  # [win]

requirements:
  build:
    - {{ compiler('c') }}        # [not win]
    - {{ stdlib("c") }}          # [not win]
    - {{ compiler('cxx') }}      # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ stdlib("m2w64_c") }}          # [win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]
  host:
    - r-base
    - r-rcpp
    - r-corpcor
    - r-ppcor
  run:
    - r-base
    - r-rcpp
    - r-corpcor
    - r-ppcor

test:
  commands:
    - $R -e "library('propr')"           # [not win]
    - "\"%R%\" -e \"library('propr')\""  # [win]

about:
  home: http://github.com/tpq/propr
  license: GPL-2.0-only
  summary: An R package to calculate proportionality and other measures for compositional data
  license_family: GPL2
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - conda-forge/r
    - jacodela
    - suzannejin

# Package: propr
# Title: An R package to calculate proportionality and other measures for compositional data
# Version: 5.1.5
# URL: http://github.com/tpq/propr
# BugReports: http://github.com/tpq/propr/issues
# Authors@R: c(person("Thomas", "Quinn", email = "contacttomquinn@gmail.com", role = c("aut", "cre")), person("Suzanne", "Jin", email = "suzanne.jin.yao@gmail.com", role = "aut"), person("Ionas", "Erb", email = "ionas.erb@crg.eu", role = "aut"), person("David", "Lovell", email = "david.lovell@qut.edu.au", role = "aut"), person("Anders", "Bilgrau", email = "anders.ellern.bilgrau@gmail.com", role = "ctb"), person("Greg", "Gloor", email = "ggloor@uwo.ca", role = "ctb"), person("Ryan", "Moore", email = "rmm1047@gmail.com", role = "ctb"))
# Description: The bioinformatic evaluation of gene co-expression often begins with correlation-based analyses. However, conventional correlation measures lack validity when applied to compositional data, including count data generated by next-generation sequencing. Here we implemented valid alternatives for measuring association between vectors of compositional data. These include several metrics for proportionality, such as  phi [Lovell et al (2015) <DOI:10.1371/journal.pcbi.1004075>] and rho [Erb and Notredame (2016) <DOI:10.1007/s12064-015-0220-8>]. It also implements a regularized version of logratio partial correlations [Jin et al (2023) <DOI:10.57645/20.8080.02.8>]. Moreover, this package implements several metrics for  differential proportionality [Erb et al (2017) <DOI:10.1101/134536>].
# License: GPL-2
# LazyData: true
# VignetteBuilder: knitr
# RoxygenNote: 7.2.3
# Encoding: UTF-8
# Depends: methods, R (>= 3.2.2)
# Imports: corpcor, ppcor, Rcpp, stats
# Suggests: ALDEx2, fastcluster, knitr, limma, parallel, rmarkdown, testthat (>= 3.0.0), vegan
# LinkingTo: Rcpp
# NeedsCompilation: yes
